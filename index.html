<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="Cubic Blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Cubic Blog">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Cubic Blog">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>Cubic Blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Cubic Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">个人博客，专注前端</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/06/21/idx33/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Qian YJ">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/head.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Cubic Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/21/idx33/" itemprop="url">webpack基础配置</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-06-21T20:25:34+08:00">
                2018-06-21
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="初始化webpack工程项目目录"><a href="#初始化webpack工程项目目录" class="headerlink" title="初始化webpack工程项目目录"></a>初始化webpack工程项目目录</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">mkdir webpack-demo</span><br><span class="line">npm init -y //穿件package.json文件</span><br><span class="line">//下载本地webpack,我的测试版本是@4.12.0</span><br><span class="line">//webpack-cli是webpack命令行工具，必须下载</span><br><span class="line">yarn add -D webpack webpack-cli </span><br><span class="line"></span><br><span class="line">//src目录用于存放源代码</span><br><span class="line">//dist是存放上线代码或者说是webpack打包输出代码的地方</span><br><span class="line">mkdir src dist</span><br><span class="line">//在项目文件夹下创建js入口文件，单页面应用一般只需创建一个入口文件</span><br><span class="line">//入口文件中引入项目所需要的各种资源，最后通过webpack将入口文件以</span><br><span class="line">//及它的依赖打包成一个文件</span><br><span class="line">touch index.js //名称可以随意</span><br></pre></td></tr></table></figure>
<h3 id="用命令行打包入口文件"><a href="#用命令行打包入口文件" class="headerlink" title="用命令行打包入口文件"></a>用命令行打包入口文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//在终端中输入，在我所用的版本中命令可以长这样，其他版本有所不同</span><br><span class="line">//webpack4要求有--mode参数，否则会发出警告，这个参数的意思就是</span><br><span class="line">//将代码打包成生产环境还是开发环境的样子，如果是production，代码</span><br><span class="line">//会压缩合并，休想看懂，如果是development，还是可以瞅两眼的。</span><br><span class="line">npx webpack index.js -o bundle.js --mode=development</span><br><span class="line">//打包命令还可以有很多参数，使用npx webpack -h查看帮助</span><br></pre></td></tr></table></figure>
<h3 id="采用webpack配置文件配置webpack的行为"><a href="#采用webpack配置文件配置webpack的行为" class="headerlink" title="采用webpack配置文件配置webpack的行为"></a>采用webpack配置文件配置webpack的行为</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">//在项目根目录下创建webpack.config.js文件，约定是这样命名，可以改</span><br><span class="line">//以下是基本内容</span><br><span class="line">//首先require node内置的path模块，用于获取文件的绝对路径，webpack</span><br><span class="line">很多配置都需要用到文件的绝对路径</span><br><span class="line">const path=require(&apos;path&apos;)</span><br><span class="line">module.exports=&#123;</span><br><span class="line">	//配置入口文件</span><br><span class="line">	entry: path.resolve(__dirname,&apos;index.js&apos;),</span><br><span class="line">	//配置打包输出文件名和路径</span><br><span class="line">	output:&#123;</span><br><span class="line">		filename:&apos;bundle.js&apos;,</span><br><span class="line">		path: path.resolve(__dirname,&apos;dist&apos;)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">//以上是最简单的配置，等同于打包命令</span><br><span class="line">//最后需要可以用命令</span><br><span class="line">//npx webpack --config webpack.config.js --mode=development执行</span><br><span class="line">//每次输入这么长的命令太麻烦，将它配置的package.json的脚本中</span><br><span class="line">//在scripts属性下面添加一行</span><br><span class="line">&quot;webpack&quot;: &quot;webpack --config webpack.config.js --mode=development&quot;</span><br><span class="line">//之后每次运行可以直接使用npm run webpack</span><br><span class="line">//我一般还想偷懒，配置一个临时别名</span><br><span class="line">alias webpack=&quot;npm run webpack&quot;</span><br></pre></td></tr></table></figure>
<h3 id="输出html文件"><a href="#输出html文件" class="headerlink" title="输出html文件"></a>输出html文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">//在项目目录下创建一个html模板文件，后面输出的html文件都以这个文件为模板</span><br><span class="line">touch templ.html</span><br><span class="line">//安装html-webpack-plugin插件用于配置输出的html文件</span><br><span class="line">yarn add -D html-webpack-plugin</span><br><span class="line">//在webpack.config.js接着配置</span><br><span class="line">const path=require(&apos;path&apos;)</span><br><span class="line">const htmlWebpackPlugin=require(&apos;html-webpack-plugin&apos;)</span><br><span class="line">module.exports=&#123;</span><br><span class="line">	//前面配置的内容</span><br><span class="line">	...</span><br><span class="line">	//本节配置的内容</span><br><span class="line">	plugins:[</span><br><span class="line">		//不给参数的情况下，直接在dist目录下生成一个</span><br><span class="line">		//html文件，并且自动引入了打包好的bundle.js</span><br><span class="line">		new htmlWebpackPlugin()</span><br><span class="line"></span><br><span class="line">		//一般我们会配置一些参数</span><br><span class="line">		new htmlWebpackPlugin(&#123;</span><br><span class="line">			//配置文件名，&apos;[]&apos;表示占位符，hash是每次打包</span><br><span class="line">			//生成的16位的哈希码，我只取5位，用于给文件命名</span><br><span class="line">			filename:&apos;index-[hash:5].html&apos;,</span><br><span class="line">			//以templ.html为模板输出文件</span><br><span class="line">			template: path.join(__dirname,&apos;templ.html&apos;),</span><br><span class="line">			//inject用于指定引入的js在head或body中,默认是body</span><br><span class="line">			inject:&apos;head&apos;,</span><br><span class="line">			//以下是一些自定义属性</span><br><span class="line">			title:&apos;webpack demo&apos;</span><br><span class="line">		&#125;)</span><br><span class="line">	]</span><br><span class="line">&#125;</span><br><span class="line">//当用templ为模板时，我们可以用ejs语法在templ.html中输出一些区别于</span><br><span class="line">//各个文件的内容</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">	&lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">	&lt;title&gt;&lt;%= htmlWebpackPlugin.options.title %&gt;&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">	</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line">//默认引入的js文件路径是相对路径，如果想设置类似cdn的绝对路径</span><br><span class="line">//可以在output中添加publicPath属性</span><br><span class="line">output:&#123;</span><br><span class="line">	...</span><br><span class="line">	publicPath:&apos;https://cdn.com/&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="配置多页面输出"><a href="#配置多页面输出" class="headerlink" title="配置多页面输出"></a>配置多页面输出</h3><p>以上是单文件应用的常见配置，如果想输出多个页面，可以这样配置<br>为了更好的阻止页面，我对目录结构也做了一些调整,最后会输出四个html文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">entry:&#123;</span><br><span class="line">	main:path.join(__dirname,&apos;src/js/index.js&apos;),</span><br><span class="line">	a:path.join(__dirname,&apos;src/js/a.js&apos;),</span><br><span class="line">	b:path.join(__dirname,&apos;src/js/b.js&apos;),</span><br><span class="line">	c:path.join(__dirname,&apos;src/js/c.js&apos;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">plugins:[</span><br><span class="line">	new htmlWebpackPlugin(&#123;</span><br><span class="line">		//chunkname是属于文件自身的哈希码，文件内容改变就会发生变化</span><br><span class="line">		filename:&apos;[name]-[chunkname:5].html&apos;,</span><br><span class="line">		template: path.join(__dirname,&apos;templ.html&apos;),</span><br><span class="line">		//最后共有四个打包js文件，这个属性用于排除哪几个，剩余都引入</span><br><span class="line">		excludeChunks:[&apos;c&apos;] </span><br><span class="line">	&#125;),</span><br><span class="line">	new htmlWebpackPlugin(&#123;</span><br><span class="line">		filename:&apos;[name]-[chunkname:5].html&apos;,</span><br><span class="line">		template: path.join(__dirname,&apos;templ.html&apos;),</span><br><span class="line">		//最后共有四个打包js文件，这个属性指明引入哪几个</span><br><span class="line">		chunks:[&apos;main&apos;,&apos;a&apos;]</span><br><span class="line">	&#125;),</span><br><span class="line">	new htmlWebpackPlugin(&#123;</span><br><span class="line">		filename:&apos;[name]-[chunkname:5].html&apos;,</span><br><span class="line">		template: path.join(__dirname,&apos;templ.html&apos;),</span><br><span class="line">		chunks:[&apos;main&apos;,&apos;b&apos;]</span><br><span class="line">	&#125;),</span><br><span class="line">	new htmlWebpackPlugin(&#123;</span><br><span class="line">		filename:&apos;[name]-[chunkname:5].html&apos;,</span><br><span class="line">		template: path.join(__dirname,&apos;templ.html&apos;),</span><br><span class="line">		chunks:[&apos;main&apos;,&apos;c&apos;]</span><br><span class="line">	&#125;)</span><br><span class="line">]</span><br></pre></td></tr></table></figure></p>
<h3 id="引入内联script内容"><a href="#引入内联script内容" class="headerlink" title="引入内联script内容"></a>引入内联script内容</h3><p>将main模块作为内联的js内容注入html文件，其他js模块作为script标签引入<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">//设置inject:false</span><br><span class="line">//配置teml.html</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">	&lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">	&lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">	&lt;script&gt;</span><br><span class="line">		&lt;%= compilation.assets[</span><br><span class="line">		htmlWebpackPlugin.files.chunks.main.entry.substr(</span><br><span class="line">			htmlWebpackPlugin.files.publicPath.length</span><br><span class="line">		)] %&gt;</span><br><span class="line">	&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;% for(key in htmlWebpackPlugin.files.chunks)&#123;%&gt;</span><br><span class="line">		&lt;% if(key !== &apos;main&apos;)&#123; %&gt;</span><br><span class="line">			&lt;script src=&quot;&lt;%= htmlWebpackPlugin.files.chunks[key].entry %&gt;&quot;&gt;&lt;/script&gt;</span><br><span class="line">		&lt;% &#125; %&gt;</span><br><span class="line">	&lt;% &#125; %&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>
<h3 id="使用babel-loader编译es6"><a href="#使用babel-loader编译es6" class="headerlink" title="使用babel-loader编译es6"></a>使用babel-loader编译es6</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">//安装babel-loader,babel-core,babel-preset-latest</span><br><span class="line">yarn add -D babel-loader babel-core babel-preset-latest</span><br><span class="line">//在webpack.config.js文件中添加如下配置</span><br><span class="line">module.exports=&#123;</span><br><span class="line">	//前面配置的内容</span><br><span class="line">	...</span><br><span class="line">	//本节配置的内容</span><br><span class="line">	module:&#123;</span><br><span class="line">		rules:[</span><br><span class="line">			&#123;</span><br><span class="line">				test:/\.js$/,</span><br><span class="line">				//node_modules目录中的文件不需要编译了</span><br><span class="line">				exclude:/node_modules/,</span><br><span class="line">				loader:&apos;babel-loader&apos;</span><br><span class="line">			&#125;</span><br><span class="line">		]</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">//指明babel的编码规则，编码最新特性使用&apos;latest&apos;</span><br><span class="line">//在package.json中添加如下配置</span><br><span class="line">&quot;babel&quot;:&#123;</span><br><span class="line">	presets:[&apos;latest&apos;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="打包css资源"><a href="#打包css资源" class="headerlink" title="打包css资源"></a>打包css资源</h3><p>webpack只认识js语法，但是其他资源可以作为模块导入，但是需要相应的loader去加载转换成js字符串或函数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">//安装css-loader style-loader</span><br><span class="line">//如果要添加属性前缀，需要安装postcss-loader以及autoprefixer</span><br><span class="line">//在webpack.config.js中添加如下配置</span><br><span class="line">module:&#123;</span><br><span class="line">	rules:[</span><br><span class="line">		&#123;</span><br><span class="line">			test:/\.js$/,</span><br><span class="line">			loader:&apos;babel-loader&apos;</span><br><span class="line">		&#125;,</span><br><span class="line">		&#123;</span><br><span class="line">			test:/\.css$/,</span><br><span class="line">			use:[</span><br><span class="line">				&apos;style-loader&apos;,</span><br><span class="line">				&apos;css-loader&apos;,</span><br><span class="line">				&#123;</span><br><span class="line">					loader:&apos;postcss-loader&apos;,</span><br><span class="line">					//postcss-loader可以安装许多插件</span><br><span class="line">					//每个插件都需要配置，其中autoprefixer的配置如下</span><br><span class="line">					//表示对市场上所有浏览器的前5个版本进行css前缀支持</span><br><span class="line">					//还可以添加&apos;&gt;1%&apos;,&apos;IE9&apos;等配置，前者表示支持市场使用</span><br><span class="line">					//率在1%以上的额浏览器,详情见http://browserl.ist/</span><br><span class="line">					options:&#123;</span><br><span class="line">						ident:&apos;postcss&apos;,</span><br><span class="line">						plugins:[</span><br><span class="line">							require(&apos;autoprefixer&apos;)(&#123;</span><br><span class="line">								browsers:[&quot;last 5 versions&quot;]</span><br><span class="line">							&#125;)</span><br><span class="line">						]</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			]</span><br><span class="line">		&#125;</span><br><span class="line">	]</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="引入less和scss文件"><a href="#引入less和scss文件" class="headerlink" title="引入less和scss文件"></a>引入less和scss文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">//安装less-loader,less,node-sass,sass-loader</span><br><span class="line">//配置</span><br><span class="line">&#123;</span><br><span class="line">	test:/\.less$/,</span><br><span class="line">	loader:&apos;less-loader&apos;</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">	test:/\.scss$/,</span><br><span class="line">	loader:&apos;sass-loader&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="引入html文件"><a href="#引入html文件" class="headerlink" title="引入html文件"></a>引入html文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//安装html-loader</span><br><span class="line">//配置</span><br><span class="line">&#123;</span><br><span class="line">	test:/\.html$/,</span><br><span class="line">	loader:&apos;html-loader&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="打包图片资源"><a href="#打包图片资源" class="headerlink" title="打包图片资源"></a>打包图片资源</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">//安装file-loader,使用file-loader,所有图片资源都得通过http请求获得</span><br><span class="line">//可以安装url-loader使得部分图片直接以base64格式添加到代码中，</span><br><span class="line">//file-loader最为前提依赖必须安装，还可以安装image-webpack-loader</span><br><span class="line">//对图片进行压缩</span><br><span class="line">//webpack.config.js配置</span><br><span class="line">&#123;	</span><br><span class="line">	//还可以匹配其他格式</span><br><span class="line">	test:/\.(jpg|jpeg|gif|png|svg|ttf)$/,</span><br><span class="line">	use:[</span><br><span class="line">		//当不需要将下图片进行base64编码，只要用file-loader就可以了</span><br><span class="line">		&apos;file-loader&apos;,</span><br><span class="line">		//如果用url-loader替换file-loader编码小图片</span><br><span class="line">		&#123;</span><br><span class="line">			loader:&apos;url-loader&apos;,</span><br><span class="line">			options:&#123;</span><br><span class="line">				//小于30KB的图片用base64格式编码</span><br><span class="line">				limit:30000</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;,</span><br><span class="line">		//用于压缩图片，它可以有更多的配置，提高图片质量和压缩效率</span><br><span class="line">		&apos;image-webpack-loader&apos;</span><br><span class="line">	]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/06/15/idx32/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Qian YJ">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/head.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Cubic Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/15/idx32/" itemprop="url">使用vue-cli脚手架一键搭建工程</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-06-15T16:59:53+08:00">
                2018-06-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="安装淘宝npm镜像，提高包下载速率"><a href="#安装淘宝npm镜像，提高包下载速率" class="headerlink" title="安装淘宝npm镜像，提高包下载速率"></a>安装淘宝npm镜像，提高包下载速率</h3><blockquote>
<p>npm install -g cnpm –registry=<a href="https://registry.npm.taobao.org" target="_blank" rel="noopener">https://registry.npm.taobao.org</a></p>
</blockquote>
<h3 id="搭建vue工程五步走"><a href="#搭建vue工程五步走" class="headerlink" title="搭建vue工程五步走"></a>搭建vue工程五步走</h3><p>1.<strong>全局安装vue-cli</strong></p>
<blockquote>
<p>npm install -g vue-cli</p>
</blockquote>
<p>2.<strong>使用一下命令初始化一个项目</strong></p>
<blockquote>
<p>vue init webpack my-project</p>
</blockquote>
<p>这个命令会在当前目录下创建一个my-project的目录作为工程目录<br>3.<strong>进入项目</strong></p>
<blockquote>
<p>cd my-project</p>
</blockquote>
<p>4.<strong>安装依赖</strong></p>
<blockquote>
<p>npm install</p>
</blockquote>
<p>5.<strong>启动项目</strong></p>
<blockquote>
<p>npm run dev</p>
</blockquote>
<h3 id="项目目录结构分析"><a href="#项目目录结构分析" class="headerlink" title="项目目录结构分析"></a>项目目录结构分析</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">|---build //项目构建（webpack）相关文件 9个 </span><br><span class="line">||--build.js  //生产环境构建代码</span><br><span class="line">||--check-versions.js //检查node&amp;npm等版本</span><br><span class="line">||--dev-client.js //热加载相关</span><br><span class="line">||--dev-sever.js //构建本地服务器</span><br><span class="line">||--utils.js //构建配置公用工具</span><br><span class="line">||--vue-loader.conf.js //vue加载器</span><br><span class="line">||--webpack.base.conf.js //webpack基础环境配置</span><br><span class="line">||--webpack.dev.conf.js //webpack开发环境配置</span><br><span class="line">||--webpack.prod.conf.js //webpack生产环境配置</span><br><span class="line"></span><br><span class="line">|---config //项目开发环境配置相关文件 3个</span><br><span class="line">||--dev.env.js //开发环境变量</span><br><span class="line">||--index.js //项目一些配置变量</span><br><span class="line">||--prod.env.js //生产环境变量</span><br><span class="line"></span><br><span class="line">|---node_modules //项目依赖的模块</span><br><span class="line">||--...</span><br><span class="line"></span><br><span class="line">|---src //项目源码目录文件 5个</span><br><span class="line">||--assets //资源目录</span><br><span class="line">||--logo.png</span><br><span class="line">||--components //vue公共组件</span><br><span class="line">||--hello.vue //组件示例文件</span><br><span class="line">||--router //前端路由</span><br><span class="line">||--index.js //路由配置文件</span><br><span class="line">||--App.vue //页面入口文件（根组件）</span><br><span class="line">||--main.js //程序入口文件（入口js文件）</span><br><span class="line"></span><br><span class="line">|---static //静态资源目录，存放图片，json数据等</span><br><span class="line">||--.gitkeep</span><br><span class="line"></span><br><span class="line">|---.babelrc //ES6语法编译配置</span><br><span class="line">|---.eidtorconfig //定义代码格式</span><br><span class="line">|---.gitignore //git上传忽略文件配置</span><br><span class="line">|---index.html //入口页面</span><br><span class="line">|---package.json //项目依赖版本信息</span><br><span class="line">|---README.md //项目说明文件</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/06/06/idx31/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Qian YJ">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/head.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Cubic Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/06/idx31/" itemprop="url">动态REM</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-06-06T17:49:16+08:00">
                2018-06-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="css的常用单位"><a href="#css的常用单位" class="headerlink" title="css的常用单位"></a>css的常用单位</h3><p>px是像素单位，浏览器默认的字体大小是16px，Chrome浏览器有最小字号的限制，默认最小字号是12px。<br>em是一个大写字母‘M’的宽度，一般也为一个汉字的宽度，一般与元素本身的font-size相等。<br>rem是指根元素的em，也等于根元素的font-size，所以默认1rem为16px。<br>vh是视口高度的百分之一，100vh==视口高度。<br>vm是视口宽度的百分之一，100vm==视口宽度。<br>vmax是视口高度与宽度中较大者的百分之一。<br>vmin是视口高度与宽度中较小者的百分之一。</p>
<h3 id="手机端适配的特点"><a href="#手机端适配的特点" class="headerlink" title="手机端适配的特点"></a>手机端适配的特点</h3><p>手机由于品牌型号众多，因此设备屏幕尺寸也多种多样，一般屏幕宽度在320-420像素之间。因此想要在手机中实现响应式适配几乎是不可能的，因为我们很难确定屏幕宽度尺寸。前端设计师苦思冥想，提出两种方案，一种是利用百分比布局实现屏幕自适应，但是这种方案不能确定元素的宽度，因此容易使得元素的比例发生变化，例如无法保证图片的宽高比例保持不变，因此这种方法缺陷很大。<br>第二种是根据屏幕宽度进行缩放，这种方法要求根据设备屏幕宽度设置元素的宽高，这样就能在不同设备上保证元素的比例不发生变化。但是css不能确定屏幕的宽度，唯一能达到目的的vm在浏览器上的兼容性不太好，因此想到借助js获取屏幕的宽度。但是如何将屏幕宽度与css的单位挂钩，从而实现在css中设置元素的宽高与屏幕的宽度相适应。<br>于是我们想到可以将根元素的font-size设置为屏幕宽度的像素值，从而使得1rem==屏幕宽度，之后我们可以用rem这个单位设置各个元素的宽高以及margin、padding等值，从而使得元素在各个设备上显示的时候宽高比例不发生变化，实现自适应缩放。代码演示如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, </span><br><span class="line">user-scalable=no, initial-scale=1.0, maximum-scale=1.0, </span><br><span class="line">minimum-scale=1.0&quot;&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    var pageWidth=window.innerWidth;</span><br><span class="line">    document.write(&apos;&lt;style&gt;html&#123;font-size:&apos;+pageWidth+&apos;px&#125;&lt;/style&gt;&apos;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<p>以上代码就可以使得1rem==屏幕宽度，但是这样赋值之后，rem显得太大了，每次设置都用小数值不太方便，于是想到使得100rem==屏幕宽度，但是此时1rem&lt;12px，由于chrome浏览器存在最小字号的限制，这样设置会使得rem失效，于是设置10rem==屏幕宽度最为理想。</p>
<h3 id="rem可以与其它单位同时存在"><a href="#rem可以与其它单位同时存在" class="headerlink" title="rem可以与其它单位同时存在"></a>rem可以与其它单位同时存在</h3><p>很多人以为设置了rem之后，以后不管设置多大的尺寸都用rem，这是不对的。因为浏览器一般会忽略像素值之后的小数位，因此当设置border等较小的尺寸用px单位比较合适，否则可能达不到想要的效果。</p>
<h3 id="在SCSS中将px自动转换为rem"><a href="#在SCSS中将px自动转换为rem" class="headerlink" title="在SCSS中将px自动转换为rem"></a>在SCSS中将px自动转换为rem</h3><p>如果css中所有的像素都需程序员自己转换为rem，计算量较大，但是我们可以通过SCSS中的px2rem函数进行自动转换。<br><strong>如何安装和使用node-sass</strong></p>
<blockquote>
<p>npm config set registry <a href="https://registry.npm.taobao.org/" target="_blank" rel="noopener">https://registry.npm.taobao.org/</a><br>touch ~/.bashrc<br>echo ‘export SASS_BINARY_SITE=”<a href="https://npm.taobao.org/mirrors/node-sass&quot;&#39;" target="_blank" rel="noopener">https://npm.taobao.org/mirrors/node-sass&quot;&#39;</a> &gt;&gt; ~/.bashrc<br>source ~/.bashrc<br>npm i -g node-sass<br>mkdir ~/Desktop/scss-demo<br>cd ~/Desktop/scss-demo<br>mkdir scss css<br>touch scss/style.scss<br>start scss/style.scss<br>node-sass -wr scss -o css<br>编辑scss文件就会自动得到css文件，在scss文件中添加和使用px2rem函数<br>@function px2rem($px){<br>  @return $px/$designWidth*10+rem;<br>}<br>$designWidth:640;//640是设计稿的宽度。<br>.child{<br>    width:px2rem(320);<br>    height:px2rem(160);<br>    margin:px2rem(40) px2rem(40);<br>    border:1px solid red;<br>    float:left;<br>    font-size:1.2em;<br>}</p>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/06/05/idx30/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Qian YJ">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/head.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Cubic Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/05/idx30/" itemprop="url">聊一聊BFC</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-06-05T15:43:09+08:00">
                2018-06-05
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>BFC的英文全称是Block Formatting Context，中文翻译过来就是‘块级格式化上下文’。很难理解这个别扭的名称到底是什么意思，能不能给BFC下个定义，MDN对BFC的描述是这样的，一个块格式化上下文（block formatting context） 是Web页面的可视化CSS渲染出的一部分。它是块级盒布局出现的区域，也是浮动层元素进行交互的区域。我想一百个人中有九十九个对这句话是懵逼的，剩下的一个是不懂装懂…<br>即使写CSS很牛的人也不能说明白BFC是什么？这是一种只能意会不能言传的东西了，就像一个大法官说的，我不知道什么是色情，但是如果给我看，我可以告诉你这是不是色情。<br>我们不知道什么是BFC，但是我们可以知道哪些元素是BFC以及BFC的功能是什么，对前端来说，知道这些就已经足够了。</p>
<h3 id="什么样的元素可以成为BFC"><a href="#什么样的元素可以成为BFC" class="headerlink" title="什么样的元素可以成为BFC"></a>什么样的元素可以成为BFC</h3><p>一句话概括就是：<br>浮动，绝对定位元素，非块盒的块容器（例如，inline-blocks，table-cells和table-captions）和’overflow’不为’visible’的块盒会为它们的内容建立一个新的块格式化上下文。<br>如果具体展开讲的话就是满足一下任意条件之一的元素就是BFC:</p>
<blockquote>
<p>根元素或其它包含它的元素<br>浮动元素 (元素的 float 不是 none)<br>绝对定位元素 (元素具有 position 为 absolute 或 fixed)<br>内联块 (元素具有 display: inline-block)<br>表格单元格 (元素具有 display: table-cell，HTML表格单元格默认属性)<br>表格标题 (元素具有 display: table-caption, HTML表格标题默认属性)<br>具有overflow 且值不是 visible 的块元素，<br>display: flow-root<br>column-span: all 应当总是会创建一个新的格式化上下文，即便具有 column-span: all 的元素并不被包裹在一个多列容器中。</p>
</blockquote>
<h3 id="BFC有什么功能"><a href="#BFC有什么功能" class="headerlink" title="BFC有什么功能"></a>BFC有什么功能</h3><p><strong>1.BFC可以包住它内部的所有元素，除了其内部BFC中的元素。</strong><br>打个比方说就是爸爸管儿子。实际应用到的场景就是包住浮动元素，我们一般用.clearfix清除浮动，但是用BFC也可以实现相同的功能，但是由于CSS的不正交，比如当我们使用overflow:hidden使父元素成为BFC从而包住浮动元素，但同时给父元素带来一些其他的特性，比如超出父元素的元素隐藏，这也许不是我们想要的，CSS3新出的display：flow-root可以没有副作用地使元素触发BFC，但是很多高级浏览器也不支持，因此还不能广泛使用，所以用BFC清除浮动往往不是我们的最佳选择。<br><strong>2.BFC元素之间可以划清界限</strong><br>比如在做左右布局时，左边元素浮动了，右边元素没有浮动，那么左边元素会浮在右边元素之上，并且右边元素中的文字就会环绕在左边元素周围，显得不清不楚，要想避免这种情况，可以使右边元素成为BFC，比如加上display:flow-root之后就可以使左右元素很好地区分开来。<br>总之，BFC可以使BFC内部元素不脱离父元素的掌控，内部元素不管怎么翻江倒海也不影响外部，外部元素也不会干扰到内部元素的布局。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/06/04/idx29/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Qian YJ">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/head.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Cubic Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/04/idx29/" itemprop="url">session、本地存储以及HTTP缓存</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-06-04T22:12:55+08:00">
                2018-06-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="什么是session？"><a href="#什么是session？" class="headerlink" title="什么是session？"></a>什么是session？</h3><p>由于用户可以手动更改本地存储的cookie，所以服务器不能完全信任从浏览器传过来的cookie，存在用户篡改身份的安全隐患，但是如果传给用户一个随机数，这个随机数在服务器上对应该用户的信息，那么即使用户在本地更改这个随机数，成功冒充其他用户的身份是几乎不可能的，这个随机数一般称为sessionID，一般是服务器通过设置cookie的方式传给客户端的。我们在服务器的内存中保存一张哈希表，哈希表里面存储着传给用户的sessionID，seesionID对应的数据是用户的信息，这张哈希表就是session。session一般存储在内存中，当服务器关闭的时候，也可以持久化为文件。当用户访问服务器时，seesionID会随着cookie传到服务器，服务器读取seesionID的值，并在session中查找对应的数据，从而确认用户的身份并返回响应的内容。</p>
<h3 id="cookie与session的区别"><a href="#cookie与session的区别" class="headerlink" title="cookie与session的区别"></a>cookie与session的区别</h3><p>cookie是浏览器发给服务器并存储在服务器的一段数据，用户是可以手动更改这段数据的，并且每次访问相同域名时都会携带cookie到服务端。<br>session是存储在服务器内存中的一张哈希表，里面有sessionID和其对应的用户信息。服务器一般通过设置cookie的方式sessionID传递给客户端，下次请求时seesionID最为cookie里的数据又传给服务器，服务器通过seesionID在session中找到用户对应的数据并返回响应。sessionID一般是随机数，不具备实际意义，用户即使能修改也一般找不到规律，因此更安全，但是cookie中的数据一般是由具体含义和规律的，比如存储用户的昵称和邮箱等，用户能找到一定规律修改，因此安全性更差。</p>
<h3 id="localStorage以及sessionStorage"><a href="#localStorage以及sessionStorage" class="headerlink" title="localStorage以及sessionStorage"></a>localStorage以及sessionStorage</h3><p>localStorage以及sessionStorage和HTTP无关，但是面试中前者经常会和cookie作比较，why？首先说一下什么是localStorage以及sessionStorage。<br>当我们在一个页面中声明一个全局变量，当改变这个全局变量的值后，下一次页面刷新或重新打开这个页面发现这个全局变量的值并没有改变，因为在本地存储出现之前，前端很难将变量的值保存在本地，每一次刷新都是从服务器获取页面，变量会被重新声明赋值，变量所有的改变都没有被记录下来，刷新之后一切都是新的，但是当本地存储出现之后，情况发生了变化，我们可以将某些变量以及它的值用哈希的数据格式保存在本地磁盘中，每次修改变量的值就重新写入磁盘，下次打开页面之后，可以读取磁盘中变量的值，因此变量值的变化就被记录下来了。localStorage以及sessionStorage都可以在本地保存变量的值，不同的是，localStorage在本地可以永久保存，除非用户手动清理，但是sessionStorage保存的数据在页面关闭（回话结束之后）就会被浏览器清理掉。<br><strong>为什么前端总是问cookie和localStorage之间的区别？</strong><br>在本地存储出现之前，前端可以通过cookie在本地保存数据，但是每条cookie的最大存储容量是4KB左右，而且每个域名下cookie的数量是有限制的，并且cookie一般存在有效期，默认浏览器关闭之后就会清理，但是后端可以强行设置过期时间。localStorage每个域名下可以存储5MB左右（每个浏览器有所不同），存储容量有了很大的提升。并且，我们都知道，每次访问服务器时，cookie数据会随着请求头传给服务器，如果每个域名下有很多cookie的话，会拖慢浏览器的请求速度，但是localSTorage中的数据不会传给服务器，因此如果在客户端本地存储数据优先选择localStorage。<br><strong>localStorage以及sessionStorage的API</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">//只能存储字符串</span><br><span class="line">localStorage.setItem(&apos;name&apos;,&apos;jack&apos;);//存储</span><br><span class="line">localStorage.getItem(&apos;name&apos;);//读取</span><br><span class="line">localStorage.removeItem(&apos;name&apos;);//移除</span><br><span class="line">localStorage.clear();//清空</span><br><span class="line"></span><br><span class="line">sessionStorage.setItem(&apos;name&apos;,&apos;jack&apos;);//存储</span><br><span class="line">sessionStorage.getItem(&apos;name&apos;);//读取</span><br><span class="line">sessionStorage.removeItem(&apos;name&apos;);//移除</span><br><span class="line">sessionStorage.clear();//清空</span><br></pre></td></tr></table></figure></p>
<h3 id="HTTP缓存"><a href="#HTTP缓存" class="headerlink" title="HTTP缓存"></a>HTTP缓存</h3><p>我们每次访问一个页面都会加载很多文件，比如js、css、图片等资源，加载的资源越多，页面打开的速度就越慢。但是js、css这些资源一般很少更新，原则上不需要频繁加载，如果让浏览器在加载一次之后将这些文件缓存下来，下次请求不再重新加载这些文件，那么可以大大提高Web的性能。这就是HTTP缓存的由来，实现HTTP缓存的技术有很多，最常用的而有Cache-Control，Expires、ETag以及lastModified等。<br><strong>Expires实现HTTP缓存</strong><br>Expires出现的时间较早，它是通过在服务器首次返回文件内容的响应头中加入给文件加入一个到期时间，如果本地时间处于到期时间之前，那么下次请求这个文件时不需要向服务器发起请求，而是之间从内存或硬盘中的存储的文件读取，否则重新发起请求获取，一般实现方式如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//到期时间格式为GMT时间</span><br><span class="line">response.setHeader(&apos;Expires&apos;,&quot;Mon, 04 Jun 2018 15:04:23 GMT&quot;);</span><br></pre></td></tr></table></figure></p>
<p>但是由于用户可以随意设置本地时间，可以使得Expires立即到期，这种方式不太好。因此Cache-Control就应运而生了。<br><strong>Cache-Control实现HTTP缓存</strong><br>Cache-Control是Expires的进化版，它与Expires的唯一不同之处在于Cache-Control设置的是到期经过的时间，所以目前最常用的实现HTTP缓存的方式就是它了，实现方式如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">response.setHeader(&apos;Cache-Control&apos;,&apos;max-age: 300000000&apos;);</span><br><span class="line">//max-age是过期时间，单位是秒，一般设置的时间较长，可以是</span><br><span class="line">五年十年等。</span><br></pre></td></tr></table></figure></p>
<p><strong>如果服务器上的文件更新了，以上两种方式如何让浏览器重新获取资源？</strong><br>只要修改文件的url就可以了，可以在文件url后加一个查询参数，比如’./js/main.js?v=2’，也可以在文件名中组合一个随机数，比如’./js/main.ab1233434343.js’。<br><strong>ETag法实现HTTP缓存</strong><br>一个文件通过md5校验可以生成一个特定的32位字符串，当文件内容修改之后，再次通过md5校验得到的字符串会发生变化，这样就像给文件打上了一个标签，内容变化，标签也会发生变化。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">md5 &apos;1.txt&apos;//文件内容为&apos;qwert&apos;</span><br><span class="line">校验结果：a384b6463fc216a5f8ecb6670f86456a</span><br><span class="line">//修改文件内容为&apos;qwer&apos;</span><br><span class="line">//校验结果变为：962012d09b8170d912f0669f6d7d9d07</span><br></pre></td></tr></table></figure></p>
<p>ETag就是利用了这个原理，当得出文件的校验值后传给客户端，客户端下次再请求相同文件时会将校验值传过来与服务器端的校验值再次比较，如果不同说明服务器端文件更新了，那就重新响应加载。如果相同，就使用客户端缓存的文件。实现方式：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">let fileMd5Str=md5(string);</span><br><span class="line">response.setHeader(&apos;ETag&apos;,fileMd5Str);</span><br><span class="line"></span><br><span class="line">//下次请求时，请求头中会出现类似以下字段</span><br><span class="line">If-Not-Match: 962012d09b8170d912f0669f6d7d9d07</span><br><span class="line">//返回的校验值与服务器端校验值再次比较</span><br></pre></td></tr></table></figure></p>
<p>ETag与Cache-Control的最大不同之处在于，ETag不论如何都会向服务器发起请求，但是是否有响应体是不确定的，而Cache-Control在到期之前是不会再向服务器发起请求的，除非文件的url有更新。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/06/03/idx28/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Qian YJ">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/head.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Cubic Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/03/idx28/" itemprop="url">堆叠顺序和堆叠上下文</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-06-03T23:33:51+08:00">
                2018-06-03
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="元素的堆叠顺序"><a href="#元素的堆叠顺序" class="headerlink" title="元素的堆叠顺序"></a>元素的堆叠顺序</h3><p>一个带边框和背景颜色的块元素，它的边框和背景是平齐的吗？亦或者边框是覆盖在背景之上的？经过实验发现边框是在背景之上的，在垂直于屏幕方向离我们的眼睛更近。<br>如果块元素中不仅有文字或者其他内联元素时，还有其他块元素时，发现内联元素或文字位于块元素之上，离我们眼睛更近，如果还存在绝对定位或者相对定位的元素，并且元素的z-index为auto，0或正数时，这些定位的元素又会处于内联元素之上的位置，离我们的眼睛更近，所以，元素在垂直于屏幕方向是存在一个堆叠顺序的。一般父元素的背景位于底层，其上是边框，再其上是为块元素的子元素，之上又是浮动元素，内联元素又在浮动元素之上，绝对定位/相对定位或固定定位并且z-index的值不为负数时，它们的位置又处于内联元素之上，这些定位的元素之间的堆叠顺序由z-index决定，z-index越大，位置越高，当z-index为负数时，并且父元素不是堆叠上下文时，定位的元素又会沉到背景之后，这很特别，并且如果是兄弟元素重叠，那么后面的盖在前面的身上。下面这张图展示了元素的堆叠顺序。<br><img src="/2018/06/03/idx28/stack.jpg" alt="堆叠顺序"></p>
<h3 id="什么是堆叠上下文"><a href="#什么是堆叠上下文" class="headerlink" title="什么是堆叠上下文"></a>什么是堆叠上下文</h3><p>没人能说清楚什么是堆叠上下文，但是我们能通过堆叠上下文的特征可以判断出什么元素有堆叠上下文，以下是有堆叠上下文元素的特征。</p>
<blockquote>
<p>根元素 (HTML),<br>z-index 值不为 “auto”的 绝对/相对定位，<br>一个 z-index 值不为 “auto”的 flex 项目 (flex item)，即：父元素 display:flex|inline-flex，<br>opacity 属性值小于 1 的元素（参考 the specification for opacity），<br>transform 属性值不为 “none”的元素，<br>mix-blend-mode 属性值不为 “normal”的元素，<br>filter值不为“none”的元素，<br>perspective值不为“none”的元素，<br>isolation 属性被设置为 “isolate”的元素，<br>position: fixed<br>在 will-change 中指定了任意 CSS 属性，即便你没有直接指定这些属性的值（参考 这篇文章）<br>-webkit-overflow-scrolling 属性被设置 “touch”的元素</p>
</blockquote>
<h3 id="堆叠上下文的作用"><a href="#堆叠上下文的作用" class="headerlink" title="堆叠上下文的作用"></a>堆叠上下文的作用</h3><p>有堆叠上下文的父元素及其子元素构成了一个堆叠空间，在其内部的堆叠顺序是按照上面所说的堆叠顺序排列的，但是z-index为负的定位元素会处于border与块子元素之间的位置。在每个堆叠空间之间，按照有堆叠上下文父元素的z-index排列，如果有堆叠上下文的父元素的z-index比另一个有堆叠上下文的父元素的z-index高，那么前者构成的堆叠空间中的任何子元素的堆叠顺序都在后者堆叠空间中的子元素之上，而不管子元素的z-index大小如何。在堆叠空间中，父元素的背景就是垫底的，任何子元素都不能位于其之下，就好像不能脱离这个堆叠空间。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/06/03/idx27/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Qian YJ">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/head.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Cubic Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/03/idx27/" itemprop="url">元素的高度与文字溢出处理</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-06-03T20:29:44+08:00">
                2018-06-03
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="块元素的高度由什么决定？"><a href="#块元素的高度由什么决定？" class="headerlink" title="块元素的高度由什么决定？"></a>块元素的高度由什么决定？</h3><p>1.当块元素中只有内联元素时，块元素的高度由字体行高决定。默认的行高与字体有关，与字体大小无关。<br>2.当块元素中只存在块元素时，块元素的高度由内部块元素的高度+padding+border+margin决定，但是margin对父元素高度的作用是不确定的，因为存在margin合并的问题，有时需要加上子元素的margin，有时却不需要。只有当父元素有东西挡住子元素的margin，从而阻断margin合并，父元素的高度才会被子元素的margin撑高。阻断margin合并的方法有很多，比如对父元素设置border-top/border-bottom或者padding-top/padding-bottom属性，或者设置overflow等。<br>3.当块元素中同时存在内联元素和块元素时，块元素的高度由其内部文档流元素的总高度决定。</p>
<h3 id="内联元素的高度由什么决定？"><a href="#内联元素的高度由什么决定？" class="headerlink" title="内联元素的高度由什么决定？"></a>内联元素的高度由什么决定？</h3><p>内联元素设置宽高是无效的，但是设置margin和padding是有效果的。内联元素的高度由字体行高决定，padding对高度是无效的，但是padding和margin对内联元素的宽度是有效的。</p>
<h3 id="如何使一行文本过长就变成省略号"><a href="#如何使一行文本过长就变成省略号" class="headerlink" title="如何使一行文本过长就变成省略号"></a>如何使一行文本过长就变成省略号</h3><p>在css中设置三句话就可以了<div style="color: red;padding-top:-40px;font-weight: bold; ">white-space:nowrap;<br>overflow:hidden;<br>text-overflow:ellipsis;<br></div><br>举个例子：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">  &lt;title&gt;JS Bin&lt;/title&gt;</span><br><span class="line">  &lt;style&gt;</span><br><span class="line">   .box&#123;</span><br><span class="line">        width:100px;</span><br><span class="line">        white-space:nowrap;</span><br><span class="line">        overflow:hidden;</span><br><span class="line">        text-overflow:ellipsis;</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"> &lt;div class=&quot;box&quot;&gt;</span><br><span class="line">        dddddddddddddddddddddddddddd</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>
<h3 id="如何使多行文本超出部分变成省略号"><a href="#如何使多行文本超出部分变成省略号" class="headerlink" title="如何使多行文本超出部分变成省略号"></a>如何使多行文本超出部分变成省略号</h3><p>在css中设置四句话就可以了<div style="color: red;padding-top:-40px;font-weight: bold; ">display:-webkit-box;<br>      -webkit-line-clamp:3;<br>      -webkit-box-orient:vertical;<br>      overflow:hidden;<br></div><br>举个例子：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">  &lt;title&gt;JS Bin&lt;/title&gt;</span><br><span class="line">  &lt;style&gt;</span><br><span class="line">    .text&#123;</span><br><span class="line">      border:1px solid #000;</span><br><span class="line">      width:200px;</span><br><span class="line">      display:-webkit-box;</span><br><span class="line">      -webkit-line-clamp:3;</span><br><span class="line">      -webkit-box-orient:vertical;</span><br><span class="line">      overflow:hidden;</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div class=&quot;text&quot;&gt;</span><br><span class="line">    Lorem ipsum dolor sit amet, consectetur </span><br><span class="line">    adipisicing elit. A, quo, est asperiores </span><br><span class="line">    ea minima commodi saepe perferendis nobis</span><br><span class="line">     earum excepturi obcaecati deleniti, minus</span><br><span class="line">     hic laboriosam fugit aspernatur quibusdam vitae sint.</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>
<h3 id="如何使「姓名」与「联系方式」两端对齐"><a href="#如何使「姓名」与「联系方式」两端对齐" class="headerlink" title="如何使「姓名」与「联系方式」两端对齐"></a>如何使「姓名」与「联系方式」两端对齐</h3><p>用代码说明：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">  &lt;title&gt;JS Bin&lt;/title&gt;</span><br><span class="line">  &lt;style&gt;</span><br><span class="line">   .label&#123;</span><br><span class="line">         width:4em;</span><br><span class="line">         text-align:justify;</span><br><span class="line">         line-height:20px;</span><br><span class="line">         height:20px;</span><br><span class="line">         overflow:hidden;</span><br><span class="line">    &#125;</span><br><span class="line">    .label::after&#123;</span><br><span class="line">        content:&apos;&apos;;</span><br><span class="line">        display:inline-block;</span><br><span class="line">        width:100%;</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div class=&quot;label&quot;&gt;姓名&lt;/div&gt;</span><br><span class="line"> &lt;div class=&quot;label&quot;&gt;联系方式&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/06/03/idx26/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Qian YJ">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/head.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Cubic Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/03/idx26/" itemprop="url">cookie以及登录注册背后的故事</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-06-03T16:40:57+08:00">
                2018-06-03
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="什么是cookie"><a href="#什么是cookie" class="headerlink" title="什么是cookie?"></a>什么是cookie?</h3><p><strong>cookie是浏览器访问服务器后，服务器传给浏览器的一段数据，一般是与用户信息相关的数据</strong><br><strong>浏览器收到cookie之后，会存储在本地硬盘中，但是可能会经过一段时间后删除。</strong><br><strong>之后浏览器再次访问这个服务器（同个域名下），都会携带这个cookie里面的数据。</strong><br><strong>cookie可以被用户手动更改，也可以用JS更改，所以后端不能相信浏览器传过来的cookie，必须予以验证</strong></p>
<h3 id="cookie的作用"><a href="#cookie的作用" class="headerlink" title="cookie的作用"></a>cookie的作用</h3><p>cookie一般用于服务器识别用户身份以及记录用户的历史操作。<br><strong>识别用户身份：</strong><br>    当用户在某个网站注册成功并首次登录后，该网站服务器会根据用户注册信息发给用户浏览器一段数据，这就是cookie，里面包含了该用户特有的信息，比如注册时的用户名以及注册ID等（各个网站有所不同，但一般利用这段数据能够在后台服务器数据库中唯一确定一个用户），之后用户再次登录或访问该网站中的其他页面时，都会携带这段cookie数据，这样就免去了用户频繁登录操作，服务器还能根据用户的身份对其展示不同的网页内容，提升用户体验。<br><strong>记录历史操作</strong><br>    当我们在访问购物网站时，这些网站一般都会有购物车功能，这是如何实现的呢？它还是用到了cookie，当我们将一个商品放入购物车后，网站就会利用js改写我们浏览器本地的cookie，比如添加购物车里的商品数据，这样，当我们关闭网页或者隔几天再来访问时，就会发现我们的购物车中依然保留了之前挑选的商品。这就是cookie记录用户历史操作的一个很好的例子。</p>
<h3 id="发生在登录注册背后的故事"><a href="#发生在登录注册背后的故事" class="headerlink" title="发生在登录注册背后的故事"></a>发生在登录注册背后的故事</h3><p>用户在访问一个新的网站时，该网站可能要求用户先注册，在注册页面，用户键入注册必需的信息，比如用户名，密码，邮箱等，当点击确定或提交之后，网页就会携带用户注册的信息向服务器发起一个POST请求，服务器拿到POST请求里的数据之后，首先会校验数据的格式是否正确，比如邮箱的格式，密码的格式等等，如果校验通过，则会比对数据库，如果数据库中不存在相同的注册数据时，会给用户返回注册成功的信息。很多网站在用户注册成功之后就自动跳转到首页，而有的会要求用户用注册好的身份重新登录，所以在用户注册成功或者首次登录之后，服务器会根据用户的注册信息传给用户浏览器一段cookie数据，里面包含可用户身份等一些信息，之后用户再次登录或者访问该网站其他页面时，都会在请求头里面携带这段cookie数据，免去了用户频繁登录的操作。文字介绍就到这里了，接下来给张图示意一下：<br><img src="/2018/06/03/idx26/regandlog.png" alt="注册登录"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/05/31/idx25/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Qian YJ">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/head.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Cubic Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/31/idx25/" itemprop="url">JavaScript面向对象编程</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-05-31T11:21:11+08:00">
                2018-05-31
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="什么是面向对象编程"><a href="#什么是面向对象编程" class="headerlink" title="什么是面向对象编程"></a>什么是面向对象编程</h3><p>面向对象编程是用抽象方式创建基于现实世界模型的一种编程模式。它是相对于 “一个程序只是一些函数的集合，或简单的计算机指令列表”的传统软件设计观念而言的，面向对象编程可以看做是一系列对象相互协作的软件设计。在OOP（Object Oriented Programming）中，每个对象能够接受消息，处理数据和发送消息给其他对象。每个对象都可以被看做是一个拥有清晰角色或责任的独立小机器。面向对象程序设计的目的是在编程中促进更好的灵活性和可维护性，在大型软件工程中广为流行。凭借其对模块化的重视，面向对象的代码开发更简单，更容易理解，相比非模块化编程方法, 它能更直接地分析, 编码和理解复杂的情况和过程。<br>JavaScript 的核心是支持面向对象的，同时它也提供了强大灵活的 OOP 语言能力，现在就让我们稍稍领略一下JS面向对象编程的魅力。</p>
<h3 id="面向对象编程必须了解的术语"><a href="#面向对象编程必须了解的术语" class="headerlink" title="面向对象编程必须了解的术语"></a>面向对象编程必须了解的术语</h3><p><strong>Namespace 命名空间</strong><br>允许开发人员在一个独特, 应用相关的名字的名称下捆绑所有功能的容器。<br><strong>Class 类</strong><br>定义对象的特征。它是对象的属性和方法的模板定义。<br><strong>Object 对象</strong><br>类的一个实例。<br><strong>Property 属性</strong><br>对象的特征，比如颜色。<br><strong>Method 方法</strong><br>对象的能力，比如行走。<br><strong>Constructor 构造函数</strong><br>对象初始化的瞬间, 被调用的方法. 通常它的名字与包含它的类一致。<br><strong>Inheritance 继承</strong><br>一个类可以继承另一个类的特征。<br><strong>Encapsulation 封装</strong><br>一种把数据和相关的方法绑定在一起使用的方法.<br><strong>Abstraction 抽象</strong><br>结合复杂的继承，方法，属性的对象能够模拟现实的模型。<br><strong>Polymorphism 多态</strong><br>多意为‘许多’，态意为‘形态’。不同类可以定义相同的方法或属性。</p>
<h3 id="原型编程"><a href="#原型编程" class="headerlink" title="原型编程"></a>原型编程</h3><p>由于JS目前还不存在类的概念，严格意义上来说并不符合面向编程的传统。JS中只有基于原型的编程，它不是面向对象编程中体现的风格，且行为重用（在基于类的语言中也称为继承）是通过装饰它作为原型的现有对象的过程实现的。这种模式也被称为弱类化，原型化，或基于实例的编程。</p>
<h3 id="JS中的构造函数"><a href="#JS中的构造函数" class="headerlink" title="JS中的构造函数"></a>JS中的构造函数</h3><p>构造函数定义方式以及对象的创建：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">function Person(name,age)&#123;</span><br><span class="line">    //这些属性或方法一般在对象之间是不同的，</span><br><span class="line">    //所以要独自传参,否则可以放入原型中</span><br><span class="line">    this.name=name;</span><br><span class="line">    this.age=age;</span><br><span class="line">&#125;</span><br><span class="line">&lt;!-- 默认的原型 --&gt;</span><br><span class="line">Person.prototype=&#123;</span><br><span class="line">    contructor:Person，</span><br><span class="line">    ......</span><br><span class="line">&#125;</span><br><span class="line">&lt;!-- 所以如果要修改原型最好用一下两种方式 --&gt;</span><br><span class="line">&lt;!-- 原型绑定 --&gt;</span><br><span class="line">&lt;!-- 方式一 --&gt;</span><br><span class="line">Person.prototype=&#123;</span><br><span class="line">    //如果没有这句，会默认修改为constructor:Object</span><br><span class="line">    contructor:Person,</span><br><span class="line">    &lt;!-- 其他共有属性和方法--&gt;</span><br><span class="line">    specias:&apos;human&apos;,</span><br><span class="line">    walk:function()&#123;...&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;!-- 方式二（推荐）： --&gt;</span><br><span class="line">Person.prototype.specias=&apos;human&apos;;</span><br><span class="line">Person.prototype.walk=function()&#123;...&#125;</span><br><span class="line">//构建对象</span><br><span class="line">var person1=new Person(&apos;Mike&apos;,18);</span><br><span class="line">var person2=new Person(&apos;Jack&apos;,20);</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/05/29/idx24/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Qian YJ">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/head.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Cubic Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/29/idx24/" itemprop="url">前端插件的使用方法以及基于MVC思想重构代码</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-05-29T17:50:34+08:00">
                2018-05-29
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="CRM三步走"><a href="#CRM三步走" class="headerlink" title="CRM三步走"></a>CRM三步走</h3><p>不要给老夫说什么源代码、设计模式、API，老夫看到插件就是复制粘贴加报错。报错不可怕，可怕的是看源代码，嗯，所以快速学会一个插件的最好办法就是赶紧用，报错了再细看报错的地方，当你把一个个坑踩遍了之后，就自然而然学会了这个插件，所以学习前端插件可以分为C(Copy)R(Run)M(Modify)三步走，根据快速入门手册，复制上面的代码，直接使用即可。当你运行成功之后，可以修改某些地方，这样你就已经相当于在改进插件啦，可以吹牛B啦！</p>
<h3 id="MVC设计思想"><a href="#MVC设计思想" class="headerlink" title="MVC设计思想"></a>MVC设计思想</h3><p>MVC不是框架，它只是一种设计思想，一种代码的组织方式，使我们的代码结构更统一，逻辑更清晰，组织和调试更简单。<br>M是模型，也就是数据，数据一般放在数据库里，所以模型负责与数据库交互对数据进行增删改查的操作。<br>V是视图，也就是对应于DOM结构中的一部分，是我们看的见的东西。<br>C是控制器，控制器从模型中取数据然后放进视图里进行渲染更新。控制器包含了一系列的行为逻辑，它是模型和视图之间的桥梁。<br>模型和视图之间是没有交集的，视图需要数据时，控制器会产生一个行为从模型中请求数据，模型再与数据库交互拿到相应的数据，之后模型把数据交给控制器，控制器将数据传递给视图，视图对数据进行渲染。<br>Model 和服务器交互，Model 将得到的数据交给 Controller，Controller 把数据填入 View，并监听 View用户操作 View，如点击按钮，Controller 就会接受到点击事件，Controller 这时会去调用 Model，Model 会与服务器交互，得到数据后返回给 Controller，Controller 得到数据就去更新 View</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/head.jpg"
                alt="Qian YJ" />
            
              <p class="site-author-name" itemprop="name">Qian YJ</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">33</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">13</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Qian YJ</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i> 访问人数
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      人
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i> 总访问量
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      次
    </span>
  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
